plugins {
  id 'application'
  id 'checkstyle'
  id 'pmd'
  id 'jacoco'
  id 'io.spring.dependency-management' version '1.0.11.RELEASE'
  id 'org.springframework.boot' version '2.3.4.RELEASE'
  id 'uk.gov.hmcts.java' version '0.12.4'
  id 'com.github.ben-manes.versions' version '0.36.0'
  id 'org.sonarqube' version '3.1.1'
  id 'org.liquibase.gradle' version '2.0.4'
}

allprojects {
  sourceCompatibility = '11'
  targetCompatibility = '11'
}

group = 'uk.gov.hmcts.reform.em.hrs'
version = '0.0.1'
mainClassName = 'uk.gov.hmcts.reform.em.hrs.Application'

// to remove if build passes
//configurations {
//  aatCompile.extendsFrom(testCompile)
//  aatRuntime.extendsFrom(testRuntime)
//}


apply from: 'build-source-sets.gradle'
apply from: 'build-tasks.gradle'
apply from: 'build-dependency-management.gradle'
apply from: 'build-code-checks.gradle'
apply from: 'build-code-coverage.gradle'
apply from: 'build-database.gradle'
apply from: 'build-dependencies-core.gradle'
apply from: 'build-dependencies-testing.gradle'
apply from: 'build-dependencies-database.gradle'

test {
  failFast = true

}

bootJar {
  getArchiveFileName().set(provider {
    'em-hrs-api.jar'
  })

  manifest {
    attributes('Implementation-Version': project.version.toString())
  }
}

wrapper {
    distributionType = Wrapper.DistributionType.ALL
}


